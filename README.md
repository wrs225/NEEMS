# NEEMS - Neuronal Emulation Enabled by MSdsl
Introduction
When working on the homeworks, we found that the simulation speed for transient dynamics of neural differential equations is exceedingly slow. One reason for this is because BRIAN uses euler’s method to numerically solve the differential equations. Euler’s method allows us to solve for an approximate solution to differential equations by taking fixed, but small, timesteps to integrate for differential equation state variables. Previously, there have been attempts to simulate large neural models by using hardware emulation, such as Neurogrid[1]. Neurogrid implements neurons using an analog implementation. With dimensionless models, the authors implement various different circuits which emulate differential equations. Neuron spikes are transmitted from source to destination using event-driven routing logic, meaning that the digital logic is only active when a spike occurs. Neurogrid was able to simulate a million neurons in fifteen 256x256 cell layers and the authors were able to achieve global synchronization in simulation. 

Our Approach
Through one of our labs, we have been working with a tool called MSDSL[2]. MSDSL is a framework for FPGA emulation of mixed-signal integrated circuit designs. Typically, designers will need to use SPICE to simulate their analog circuits. However, this takes a very long time as simulators such as NGSPICE use Euler’s method to solve for the transient dynamics numerically. MSDSL alleviates some of these issues by enabling designers to specify their circuits as either a set of differential equations or a netlist. MSDSL will then generate RTL which emulates the high-level differential equations and associated infrastructure for getting data on/off the FPGA. 

Using this tool we can adapt some of the equations we saw in the homeworks using BRIAN and attempt to simulate small networks of neurons on an FPGA. We have access to FPGAs so we can test the performance and power of the FPGA implementation against a normal laptop CPU. Because FPGA emulation sacrifices accuracy in comparison to floating-point arithmetic, we can also evaluate the relative accuracy of the two methods.

Hypothesis
We believe that by using FPGA emulation, based on [2], we can achieve a 1-2 order-of-magnitude speedup for neuronal simulations in comparison to a CPU implementation given by BRIAN. We believe that there will be only a negligible difference in accuracy between the CPU and FPGA models. We also believe that the extensibility and flexibility that FPGAS provide will open up new possibilities in fast simulation of neuronal dynamics.

Scope of Project Work
For this project we plan on accelerating a fully connected network of 10 neurons and seeing if we can achieve synchronization within a network using the FPGA. To evaluate CPU performance, we plan on using the timeit module in Python. To evaluate FPGA performance, MSDSL provides functionality to dump timing information to the host computer. This means we can evaluate the amount of time it takes to do a computation. We can also prepare a demo for the final presentation, time permitting. 
